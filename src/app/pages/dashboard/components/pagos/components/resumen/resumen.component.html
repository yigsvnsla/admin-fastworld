<ion-card *ngIf="validUser">
  <!-- <ion-card-header>
    <ion-card-title>{{user.business | titlecase}}</ion-card-title>
    <ion-card-subtitle>Cliente: {{user.name | titlecase}}</ion-card-subtitle>
  </ion-card-header> -->
  <ion-card-header>
    <ion-toolbar>
      <ion-row>
        <ion-col size="6">
          <ion-title>
            <ion-label>
              <h1>{{user.business | titlecase}}</h1>
              <h3>Cliente: {{user.name | titlecase}}</h3>
            </ion-label>
          </ion-title>
        </ion-col>
        <ion-col size="6">
          <ion-row>
            <ion-col>
              <ion-item button lines="none" (click)="showCargoModal()">
                <ion-icon name="logo-usd" slot="start"></ion-icon>
                <ion-label>
                  <p>Saldo</p>
                  <ng-container *ngIf="user.charges.total >= 0">
                    <ion-text color="success">
                      <h1>{{user.charges.total | currency}}</h1>
                    </ion-text>
                  </ng-container>
                  <ng-container *ngIf="user.charges.total < 0">
                    <ion-text color="danger">
                      <h1>{{user.charges.total | currency}}</h1>
                    </ion-text>
                  </ng-container>
                </ion-label>
              </ion-item>
            </ion-col>
            <ion-col>
              <ion-item button lines="none">
                <ion-icon name="logo-usd" slot="start"></ion-icon>
                <ion-label>
                  <p>Encomiendas</p>
                  <ng-container *ngIf="user.pending > 0">
                    <ion-text color="danger">
                      <h1>{{user.pending | currency}}</h1>
                    </ion-text>
                  </ng-container>
                  <ng-container *ngIf="user.pending == 0">
                    <ion-text color="success">
                      <h1>{{user.pending | currency}}</h1>
                    </ion-text>
                  </ng-container>
                </ion-label>
              </ion-item>
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>
    </ion-toolbar>
  </ion-card-header>
  <ion-card-content>
    <ion-row>
      <ion-col size="7">
        <ion-item button>
          <ion-icon name="cube-outline" slot="start"></ion-icon>
          <ion-label position="stacked">Cantidad de encomiendas</ion-label>
          <ion-input value="{{user.count | number}}" readonly=""></ion-input>
        </ion-item>
      </ion-col>
      <ion-col>
        <ion-button (click)="showPagoModal()" expand="block" shape="round" color="success">
          <ion-icon name="card-outline" slot="start"></ion-icon>
          <ion-label>Pagar</ion-label>
        </ion-button>
      </ion-col>
    </ion-row>
    <!-- <ion-item-divider>
      <ion-label>Ultimos pagos realizados</ion-label>
    </ion-item-divider> -->
    <resume-datatable [setPath]="updateTable | async"></resume-datatable>
  </ion-card-content>
</ion-card>
